@model IEnumerable<EP.CMS.Domain.PageModule.Entities.News>

@{
    ViewBag.Title = "News Manager: News";
}
@section HeaderSection{
    <script src="~/Scripts/jquery-ui-1.8.20.min.js"></script>
    <link href="~/Scripts/simple_paginate/simplePagination.css" rel="stylesheet" />
    <script src="~/Scripts/simple_paginate/jquery.simplePagination.js"></script>
    <script>
        EP.paginate();
    </script>
}

<div id="toolbar-box">
    <div class="m">
        <div class="toolbar-list" id="toolbar">
            <ul>
                @Html.Toolbar("New")
                @Html.Toolbar("Edit")
                <li class="divider"></li>
                @Html.Toolbar("whats-new", "What's New")
                <li class="divider"></li>
                @Html.Toolbar("Publish")
                @Html.Toolbar("Unpublish")
                <li class="divider"></li>
                @Html.Toolbar("Trash")
            </ul>
            <div class="clr"></div>
        </div>
        <div class="pagetitle icon-48-article">
            <h2>@ViewBag.Title</h2>
        </div>
    </div>
</div>
<div id="submenu-box">
    <div class="m">
        <ul id="submenu">
            <li>
                <a class="active" href="#">News</a>	</li>
        </ul>
        <div class="clr"></div>
    </div>
</div>
<div id="system-message-container">
</div>
<div id="element-box">
    <div class="m">
        <form action="#" method="post" name="adminForm" id="adminForm">
            <fieldset id="filter-bar">
                @Html.Partial("_SearchList")
                <div class="filter-select fltrt">

                    <select name="filter_state" class="inputbox" onchange="this.form.submit()">
                        <option value="">- Select Status -</option>
                        <option value="1">Published</option>
                        <option value="0">Unpublished</option>
                        <option value="2">Archived</option>
                        <option value="-2">Trashed</option>
                        <option value="*">All</option>
                    </select>

                    <select name="filter_language" class="inputbox" onchange="this.form.submit()">
                        <option value="">- Select Language -</option>
                        <option value="*">All</option>
                        <option value="en-GB">English (UK)</option>
                    </select>
                </div>
            </fieldset>
            <div class="clr"></div>
            <table class="adminlist">
                <thead>
                    <tr>
                        <th width="1%">
                            <input type="checkbox" name="checkall-toggle" value="" title="Check All" onclick="EP.checkAll(this)">
                        </th>
                        <th width="75%">
                            <a href="#" title="Click to sort by this column">News Title		
                        </th>
                        <th width="5%">
                            <a href="#" title="Click to sort by this column">What's New</a>
                        </th>
                        <th width="5%">
                            <a href="#" title="Click to sort by this column">Status</a>
                        </th>
                        <th width="10%">
                            <a href="#" title="Click to sort by this column">Keywords</a>
                        </th>
                        <th width="15%">
                            <a href="#" title="Click to sort by this column">News Date</a>
                        </th>
                        <th width="1%" class="nowrap">
                            <a href="#" title="Click to sort by this column">ID</a>
                        </th>
                    </tr>
                </thead>
                <tfoot>
                    <tr>
                        <td colspan="8">
                            <div class="container">
                                @Html.Partial("_TablePagination")
                            </div>
                        </td>
                    </tr>
                </tfoot>
                <tbody>
                    @foreach (var news in Model.OrderByDescending(p=>p.NewsDate))
                    {
                        <tr class="data-row">
                            <td class="center">
                                <input type="checkbox" class="cbox-form" value="@news.Id" title="Checkbox for row @news.Id">
                            </td>
                            <td>
                                @Html.ActionLink(news.Title, "Edit", new { newsId = news.Id })
                                <p class="smallsub">
                                    (<span>Name: </span>@news.Name)
                                </p>
                            </td>
                            <td class="center">
                                @if (news.WhatsNew)
                                {
                                    <a class="jgrid" href="javascript:void(0);"
                                        
                                        title="What's New">
                                        <span class="state whatsnew"><span class="text">What's New</span></span>
                                    </a>
                                }
                                else
                                {
                                    <a class="jgrid hasTip" href="javascript:void(0);"
                                         title="">
                                        <span class="state disabled"><span class="text"></span></span></a>

                                }
                            </td>
                            <td class="center">
                                @if (news.StatusId == (int)EP.CMS.Domain.CommonModule.Enum.Status.Published)
                                {
                                    <a class="jgrid" href="javascript:void(0);"
                                        onclick="return listItemTask(&#39;cb0&#39;,&#39;banners.unpublish&#39;)"
                                        title="Published and is Current">
                                        <span class="state publish"><span class="text">Published</span></span>
                                    </a>
                                }
                                else
                                {
                                    <a class="jgrid hasTip" href="javascript:void(0);"
                                        onclick="return listItemTask('cb0','articles.publish')" title="">
                                        <span class="state unpublish"><span class="text">Unpublished</span></span></a>

                                }
                            </td>
                            <td class="center">@news.Keywords</td>
                            <td class="center">
                                @string.Format("{0:MM/dd/yyyy}",news.NewsDate)
                            </td>
                            <td class="center">@news.Id				</td>
                        </tr>
                    }
                </tbody>
            </table>
        </form>
        <div class="clr"></div>
    </div>
</div>
